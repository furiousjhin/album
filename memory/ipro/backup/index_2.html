<!doctype html>
<html lang="ja" xml:lang="ja">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="pragma" content="no-cache">
        <meta http-equiv="cache-control" content="no-cache">
        <meta http-equiv="expires" content="-1">
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1, minimal-ui">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <link rel="stylesheet" href='http://sp.pf-img-a.mbga.jp/12008305/?guid=ON&amp;url=http%3A%2F%2F125.6.169.35%2Fidolmaster%2Fcss%2Fgame%2Fpex.css%3Fv%3D20101001000000' media="all">
        <script src='http://sp.pf-img-a.mbga.jp/12008305/?guid=ON&amp;url=http%3A%2F%2F125.6.169.35%2Fidolmaster%2Fjs%2Fjquery-1.9.1.min.js%3Fversion%3D1_9_1%26v%3D20101001000000'></script>
        <script src='http://sp.pf-img-a.mbga.jp/12008305/?guid=ON&amp;url=http%3A%2F%2F125.6.169.35%2Fidolmaster%2Fjs%2Fpex-1.2.0.js%3Fv%3D20101001000000'></script>
        <script src='http://sp.pf-img-a.mbga.jp/12008305/?guid=ON&amp;url=http%3A%2F%2F125.6.169.35%2Fidolmaster%2Fjs%2Fpex_common.js%3Fv%3D20101001000000'></script>
        <script>
            $(document).ready(function() {
                if (typeof newrelic === 'object' && typeof newrelic.setPageViewName === 'function') {
                    newrelic.setPageViewName('/idolmaster/index.php/smart_phone_flash/convert/event_produceSsSsepisode_commu_swf/0/0/0/1');
                }
            });
        </script>
        <script>
            (function() {
                window.viewer_id = 150014132;
                var _url = "http://sp.pf.mbga.jp/12008305/?guid=ON&amp;url=http%3A%2F%2F125.6.169.35%2Fidolmaster%2Fgame_error%2Freport_js_error%3Fl_frm%3DSmart_phone_flash_convert_1%26rnd%3D644967482";
                var _path = location.href;
                var _spec_obj;
                var _spec = 'none';
                var version = 1;
                // access方法検出
                _spec_obj = {
                    'isNative': false,
                    'isAndApp': false,
                    'isShellApp': false,
                    'isIosApp': false,
                    'isChromeApp': false
                };
                window._spec = _spec_obj;
                if (_spec.isAndApp) {
                    _spec = 'andapp'
                } else if (_spec.isIosApp) {
                    _spec = 'iosApp';
                } else if (_spec.isShellApp) {
                    _spec = 'shellapp';
                } else {
                    _spec = 'browser?';
                }
            }
            )();
        </script>
        <title>ｱｲﾄﾞﾙﾏｽﾀｰ ｼﾝﾃﾞﾚﾗｶﾞｰﾙｽﾞ </title>
        <style>
            #container {
                position: relative;
            }

            #voiceTouch {
                display: block;
                position: absolute;
                top: 0;
                left: 0;
                z-index: 100;
                width: 100%;
                height: 150%;
                -webkit-tap-highlight-color: rgba(0,0,0,0);
            }

            .switchBt {
                display: block;
                position: absolute;
                z-index: 200;
            }

            .selectSwitchBt {
                display: block;
                position: absolute;
                z-index: 210;
            }

            .scrollBt {
                display: block;
                position: absolute;
                z-index: 200;
            }
        </style>
        <style>
            #mbga-pf-footer {
                display: none;
            }
        </style>
        <script>
            var isTouch = ('ontouchstart'in window);
            var isSp = false;
            if (isTouch === false)
                isSp = false;
            else if (window.orientation === undefined)
                isSp = false;
            else
                isSp = true;
            displayScaleValue = scaleSizeCheck();
            var width = 240 * displayScaleValue * 2;
            marginLeft = widthMarginCheck(displayScaleValue);
            marginTop = topMarginCheck(displayScaleValue);
            function setScrollTop() {
                if (document.documentElement) {
                    document.documentElement.scrollTop = 0;
                }
                if (document.body) {
                    document.body.scrollTop = 0
                }
            }
            window.addEventListener("DOMContentLoaded", function() {
                no_scroll();
                function no_scroll() {
                    var scroll_event = 'onwheel'in document ? 'wheel' : 'onmousewheel'in document ? 'mousewheel' : 'DOMMouseScroll';
                    document.addEventListener(scroll_event, function(e) {
                        e.preventDefault()
                    }, {
                        passive: false
                    });
                    document.addEventListener('touchstart', function(e) {
                        setScrollTop()
                    }, {
                        passive: false
                    });
                    document.addEventListener('touchend', function(e) {
                        setScrollTop()
                    }, {
                        passive: false
                    });
                    document.addEventListener('touchmove', function(e) {
                        setScrollTop();
                        e.preventDefault()
                    }, {
                        passive: false
                    });
                }
            });
            window.onunload = function() {}
            ;
            window.onload = function() {
                var option = {
                    enableButton: true,
                    enableTouch: true,
                    delayEval: false,
                    operation: {
                        lighter_tgt: "lighter"
                    },
                    width: width
                };
                var container = document.getElementById("container");
                container.setAttribute("style", "margin-left:" + (marginLeft) + "px");
                container.style.marginTop = (marginTop) + "px";
                container.style.zoom = "50%";
                container.style.height = (window.outerHeight * 2 - marginTop) + "px";
                option['frameCallback'] = {
                    '/sound_mc': {
                        'gauge_up': function() {
                            se_play('se_132');
                        },
                        'burst': function() {
                            se_play('se_134');
                        },
                        'star_up': function() {
                            se_play('se_117');
                        },
                        'commu_appear': function() {
                            se_play('se_37_1');
                        },
                        'log_btn': function() {
                            se_play('se_009');
                        },
                        'normal': function() {
                            se_play('se_109');
                        },
                        'good': function() {
                            se_play('se_114');
                        },
                        'perfect': function() {
                            se_play('se_072');
                        },
                        'dialog_btn': function() {
                            se_play('se_009');
                        },
                        'commu_fin': function() {
                            se_play('se_102');
                        },
                        'excellent_logo': function() {
                            se_play('se_134');
                        },
                        'commu_result_start': function() {
                            se_play('se_007');
                        },
                        'excellent_small': function() {
                            se_play('se_145');
                        },
                        'excellent_plus': function() {
                            se_play('se_102');
                        },
                        'overflow_star1': function() {
                            se_play('se_083');
                        },
                        'overflow_star2': function() {
                            se_play('se_127');
                        },
                    },
                };
                var pex = new Pex('http://sp.pf.mbga.jp/12008305/?guid=ON&amp;url=http%3A%2F%2F125.6.169.35%2Fidolmaster%2Fevent_produce%2Fepisode_commu_swf%2F0%2F0%3Farea_id%3D14%26opensocial_app_id%3D12008305%26opensocial_viewer_id%3D150014132%26opensocial_owner_id%3D150014132%26flashParam%3D470144804%26l_frm%3DSmart_phone_flash_convert_1%26rnd%3D736897802',"container",option);
                pex.getAPI().ready(function() {
                    setScrollTop();
                });
                var pexApi = pex.getAPI();
                window.pexApi = pexApi;
                (function($) {
                    $.fn.pexConsole = function() {
                        if (globalNextLabel) {
                            pexApi.gotoFrame('/', sceneLabel);
                            globalNextLabel = 0;
                        }
                    }
                    ;
                    $.fn.pexBtacquisition = function(mcName) {
                        var obj = {
                            x: pexApi.getVariable(mcName, 'w'),
                            y: pexApi.getVariable(mcName, 'h'),
                            poX: pexApi.getVariable(mcName, 'x'),
                            poY: pexApi.getVariable(mcName, 'y'),
                            label: pexApi.getVariable(mcName, 'scene'),
                            voicePath: pexApi.getVariable(mcName, 'voicePath')
                        };
                        return [obj.x, obj.y, obj.poX, obj.poY, obj.label, obj.voicePath];
                    }
                    ;
                    $.fn.pexGotoFrame = function(mcName, palam) {
                        pexApi.gotoFrame(mcName, palam);
                    }
                    ;
                    $.fn.pexCallActions = function(label) {
                        pexApi.callActions('/', label);
                    }
                    ;
                    $.fn.pexSetVaris = function(name, h) {
                        pexApi.setVariable(name, 'touched_x', h.x);
                        pexApi.setVariable(name, 'touched_y', h.y);
                    }
                    ;
                }
                )(jQuery);
                timerId = setTimeout("isFlash()", 60000);
            }
            ;
            function touchHandler(event) {
                event.preventDefault();
            }
            ;function redirect() {
                location.href = "http://sp.pf.mbga.jp/12008305/?guid=ON&amp;url=http%3A%2F%2F125.6.169.35%2Fidolmaster%2Fgame_error%3Fl_frm%3DSmart_phone_flash_convert_1%26rnd%3D885481966";
            }
            ;function isFlash() {
                var container = document.getElementById("container");
                var children = container.childNodes;
                if (children.length < 1) {
                    redirect();
                } else {
                    clearTimeout(timerId);
                }
            }
            ;function scaleSizeCheck() {
                window.scrollTo(0, 1);
                myW = window.innerWidth;
                myH = window.innerHeight;
                scaleWidth = myW / 240;
                scaleHeight = myH / 320;
                if (myH > myW) {
                    myS = scaleWidth;
                } else {
                    myS = scaleHeight;
                }
                return myS;
            }
            ;function widthMarginCheck(scale) {
                if (scale < 0) {
                    return 0;
                }
                baseW = 240;
                myW = window.innerWidth;
                size = baseW * scale;
                if ((myW - size) < 5) {
                    marginL = 0;
                } else {
                    marginL = Math.round((myW - size) / 2);
                }
                return marginL * 2;
            }
            function topMarginCheck(scale) {
                if (scale < 0) {
                    return 0;
                }
                baseH = 320;
                myH = window.innerHeight;
                size = baseH * scale;
                if ((myH - size) < 5) {
                    marginT = 0;
                } else {
                    marginT = Math.round((myH - size) / 2);
                }
                return marginT * 2;
            }
            function getFlashPlayerVersion() {
                var vsn = '';
                if (navigator.plugins["Shockwave Flash"] && navigator.mimeTypes.length) {
                    var tmp = navigator.plugins["Shockwave Flash"].description.match(/([0-9]+)/);
                    vsn = tmp[0];
                } else {
                    try {
                        var tmp = new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").match(/([0-9]+)/);
                        vsn = tmp[0];
                    } catch (e) {}
                }
                return vsn;
            }
            var skipNextUrl;
            function skipBtnGenerate(url) {}
            function SkipBtnDown(e) {
                var scale = scaleSizeCheck();
                var width_margin = widthMarginCheck(scale);
                var top_margin = topMarginCheck(scale);
                var client_width = window.innerWidth;
                var client_height = window.innerHeight;
                var click_x = e.clientX;
                var click_y = e.clientY;
                var swf_width = client_width - width_margin;
                var swf_height = 320 * scale;
                var btn_x = (width_margin / 2) + ((swf_width * 2) / 3);
                var btn_width = swf_width / 3;
                var btn_y = top_margin / 2;
                var btn_height = swf_height / 12;
                if (btn_x < click_x && click_x < (btn_x + btn_width) && btn_y < click_y && click_y < (btn_y + btn_height)) {
                    document.location = skipNextUrl;
                }
            }
            function call_select_item(play_scene, select_num) {
                var use_item, max_use_flag;
                switch (select_num) {
                case "1":
                    use_item = 0;
                    max_use_flag = 0;
                    break;
                case "2":
                    use_item = 3;
                    max_use_flag = 0;
                    break;
                case "3":
                    use_item = 3;
                    max_use_flag = 1;
                    break;
                case "4":
                    use_item = 1;
                    max_use_flag = 0;
                    break;
                default:
                    break;
                }
                if (window.produce_token_name == undefined) {
                    window.produce_token_name = "";
                    window.produce_token_value = "";
                }
                function make_produce_ajax_data() {
                    var data = {
                        area_id: 14,
                        use_item: use_item,
                        max_use_flag: max_use_flag,
                        play_scene: play_scene,
                    };
                    data[window.produce_token_name] = window.produce_token_value;
                    return data;
                }
                $.ajax({
                    data: make_produce_ajax_data(),
                    type: "post",
                    url: 'http://sp.pf.mbga.jp/12008305/?guid=ON&amp;url=http%3A%2F%2F125.6.169.35%2Fidolmaster%2Fevent_produce%2Fraid_battle%3Fl_frm%3DSmart_phone_flash_convert_1%26rnd%3D517415240',
                    success: function(data) {
                        if (data.type == "redirect")
                            location.href = data.url;
                        else {
                            pexApi.setVariables("/", data);
                            pexApi.callActions("/", "call_selected");
                            window.produce_token_name = data.csrf_token_name;
                            window.produce_token_value = data.csrf_token_value;
                        }
                    },
                    error: function(data) {
                        alert('通信失敗');
                    },
                })
            }
            function nextJump(url) {
                location.href = url;
            }
        </script>
        <script type='text/javascript'>
            var se_flg = 0
              , bgm_flg = 0
              , chrome_app_flg = 0
              , chrome_app_extension_id = 'dnacabmnfmejgfffmcehejcmiciinpej';
        </script>
        <script type='text/javascript' src='http://sp.pf-img-a.mbga.jp/12008305/?guid=ON&amp;url=http%3A%2F%2F125.6.169.35%2Fidolmaster%2Fjs%2Fapp_sound.js%3Fv%3D20200713144634'></script>
        <link rel="stylesheet" type="text/css" href="http://sp.pf-img-a.mbga.jp/css/base.css?20171116"/>
    </head>
    <body style="height:100%">
        <a href="#" id="voiceTouch"></a>
        <div id="container"></div>
        <script>
            white_flag = 0;
            vote_simple_swf_flg = 0;
        </script>
        <script src="http://sp.pf-img-a.mbga.jp/12008305/?guid=ON&amp;url=http%3A%2F%2F125.6.169.35%2Fidolmaster%2Fjs%2Fboombox.min.js%3Fv%3D20101001000000"></script>
        <script src="http://sp.pf-img-a.mbga.jp/12008305/?guid=ON&amp;url=http%3A%2F%2F125.6.169.35%2Fidolmaster%2Fjs%2Fvoice_2.js%3Fv%3D20190524145759"></script>
        <div id="mbga-pf-footer">
            <div class="mbga-pf-footer-container odd-lines mbga-pf-footer-white">
                <ul>
                    <li class="mbga-pf-footer-list">
                        <div class="mbga-pf-fotter-content">
                            <a class="mbga-pf-footer-arrow" href="http://sp.mbga.jp/_grp_view?g=32095227">
                                <span class="mbga-pf-footer-caption">公式サークル</span>
                            </a>
                        </div>
                    </li>
                </ul>
            </div>
            <div id="mbga-pf-footer-navbar">
                <ul class="mbga-pf-box-h">
                    <li id="mbga-pf-footer-navbar-icon-grid" class="mbga-pf-footer-li">
                        <a class="mbga-pf-footer-a mbga-pf-footer-home-w" href="http://sp.mbga.jp/?_from=globalfooter">
                            <span class="mbga-pf-footer-txt">ホーム</span>
                        </a>
                    </li>
                    <li id="mbga-pf-footer-navbar-icon-mypage" class="mbga-pf-footer-li">
                        <a class="mbga-pf-footer-a mbga-pf-footer-mypage-w" href="http://sp.mbga.jp/_my0?_from=globalfooter">
                            <span class="mbga-pf-footer-txt">マイページ</span>
                        </a>
                    </li>
                    <li id="mbga-pf-footer-navbar-icon-mygame" class="mbga-pf-footer-li">
                        <a class="mbga-pf-footer-a mbga-pf-footer-mygame-w" href="http://sp.mbga.jp/_game_my_top?_from=globalfooter">
                            <span class="mbga-pf-footer-txt">マイゲーム</span>
                        </a>
                    </li>
                    <li id="mbga-pf-footer-navbar-icon-notification" class="mbga-pf-footer-li">
                        <a class="mbga-pf-footer-a mbga-pf-footer-game-w" href="http://sp.mbga.jp/_game_top?_from=globalfooter">
                            <span class="mbga-pf-footer-txt">ゲーム</span>
                        </a>
                    </li>
                </ul>
            </div>
            <script type="text/javascript" charset="UTF-8">
                (function() {
                    document.addEventListener('DOMContentLoaded', function() {
                        var list = document.getElementsByClassName('mbga-pf-footer-li');
                        var i = 0
                          , l = list.length;
                        for (; i < l; i++) {
                            var elem = list[i];
                            elem.addEventListener('touchstart', function(e) {
                                e.currentTarget.className = e.currentTarget.className.replace(/$/, ' mbga-pf-tapped');
                            });
                            elem.addEventListener('touchend', function(e) {
                                e.currentTarget.className = e.currentTarget.className.replace(/ mbga-pf-tapped/, '');
                            });
                            elem.addEventListener('touchmove', function(e) {});
                        }
                    });
                }
                )();
            </script>
        </div>
    </body>
</html>
